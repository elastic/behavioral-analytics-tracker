"use strict";var elasticAnalyticsDefault=(()=>{var p=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var D=(r,e)=>{for(var t in e)p(r,t,{get:e[t],enumerable:!0})},A=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of y(e))!x.call(r,n)&&n!==t&&p(r,n,{get:()=>e[n],enumerable:!(o=l(e,n))||o.enumerable});return r};var R=r=>A(p({},"__esModule",{value:!0}),r);var U={};D(U,{default:()=>L});var d=(r,e)=>({...e,event_type:r});var v=(r,e)=>r!=="pageview"||!document.referrer?e:{...e,referrer:document.referrer};var u=(r,e)=>r!=="pageview"?e:{...e,url:window.location.href};function T(r){var o;let t=("; "+document.cookie).split("; "+r+"=");if(t.length===2&&t[1])return(o=t.pop())==null?void 0:o.split(";").shift()}function f(r,e,t,o="/"){var n="expires="+t.toUTCString();document.cookie=r+"="+e+"; "+n+"; path="+o}function k(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(r){return(r^crypto.getRandomValues(new Uint8Array(1))[0]&15>>r/4).toString(16)})}function E(){let r=T("EA_VID")||k(),e=new Date;return e.setHours(23,59,59,999),f("EA_VID",r,e),r}var m=(r,e)=>({...e,user_uuid:E()});var w={eventType:d,pageReferrer:v,pageUrl:u,userUuid:m};var S=(r,e,t)=>Object.values(t).reduce((o,n)=>n(r,o),{event_data:e}),i=class{constructor(e){this.endpointURL=e.dsn,this.dataProviders={...w,...e.dataProviders||{}}}trackEvent(e,t={}){let o=S(e,t,this.dataProviders),n=JSON.stringify(o),c=`${this.endpointURL}/events`;if(navigator.sendBeacon!=null)navigator.sendBeacon(c,n);else{let s=new XMLHttpRequest;s.open("POST",c,!0),s.setRequestHeader("Content-Type","text/plain"),s.send(n)}}trackPageView(e){this.trackEvent("pageview",e)}};function g(r){let e=document.currentScript;return e==null?void 0:e.getAttribute(r)}var P=g("data-dsn");if(!P)throw new Error("Behavioural Analytics: Missing DSN. Please refer to the integration guide.");var h=new i({dsn:P}),a=()=>h.trackPageView();window.addEventListener("pageshow",a);if(window.history){let r=window.history.pushState;window.history.pushState=(...e)=>(window.dispatchEvent(new Event("ewt:pushstate")),r.apply(window.history,e)),window.addEventListener("ewt:pushstate",a),window.addEventListener("popstate",a)}else window.addEventListener("hashchange",a);var L=h;return R(U);})();
var elasticAnalytics = elasticAnalyticsDefault.default
